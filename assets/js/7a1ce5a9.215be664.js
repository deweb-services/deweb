"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[693],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>u});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=d(n),u=i,b=m["".concat(l,".").concat(u)]||m[u]||c[u]||r;return n?a.createElement(b,o(o({ref:t},p),{},{components:n})):a.createElement(b,o({ref:t},p))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var d=2;d<r;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var a=n(7462),i=(n(7294),n(3905));const r={sidebar_position:1},o="DWS Domains",s={unversionedId:"domains/dws-domains",id:"domains/dws-domains",title:"DWS Domains",description:"Decentralized Web Services Blockchain has a DWS Domains module. User can buy domain of any level.",source:"@site/docs/domains/dws-domains.md",sourceDirName:"domains",slug:"/domains/dws-domains",permalink:"/domains/dws-domains",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"defaultSidebar",previous:{title:"Validator Setup Guide",permalink:"/fullnode/validator-setup"},next:{title:"DWS DNS Server",permalink:"/domains/dws-dns-server"}},l={},d=[{value:"Buy domain",id:"buy-domain",level:2},{value:"Extend domain ownership (Prolongation)",id:"extend-domain-ownership-prolongation",level:2},{value:"Edit domain settings",id:"edit-domain-settings",level:2},{value:"Subdomain ownership examples",id:"subdomain-ownership-examples",level:2},{value:"2-step transfer",id:"2-step-transfer",level:2},{value:"Module parameters",id:"module-parameters",level:2}],p={toc:d};function c(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"dws-domains"},"DWS Domains"),(0,i.kt)("p",null,"Decentralized Web Services Blockchain has a DWS Domains module. User can buy domain of any level."),(0,i.kt)("p",null,"Initial Top-level domain (TLD) price is defined in genesis as 100 DWS and can be changed via the governance proposal."),(0,i.kt)("p",null,"Each domain ownership is 2 years from buy time. After 2 years the domain owner has the 2 weeks window to extend the ownership by pay the full price (100 DWS)."),(0,i.kt)("p",null,"For example Alice can buy domain ",(0,i.kt)("inlineCode",{parentName:"p"},"hello/")," for 100 DWS. Then Alice can say that anyone can buy a subdomain ",(0,i.kt)("inlineCode",{parentName:"p"},"*.hello/")," for 10 DWS. Any subdomain which Alice will sell will belong to the buyer for 2 years."),(0,i.kt)("p",null,"For example Bob will buy domain ",(0,i.kt)("inlineCode",{parentName:"p"},"bob.hello")," for 10 DWS. 10 DWS will be transfered to Alice and Bob will get ",(0,i.kt)("inlineCode",{parentName:"p"},"bob.hello")," domain ownership for 2 years. Alice will not have any permission to get this domain back from Bob. After 2 years Bob will have a 2 weeks window to extend the ownership for 10 DWS, which will be transfered to Alice. If Alice changed the price of subdomains to 20 DWS, Bob will still pay 10 DWS per 2 years, as it was the initial price."),(0,i.kt)("h2",{id:"buy-domain"},"Buy domain"),(0,i.kt)("p",null,"If we want to buy a domain, we can set DNS records:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'BasicDataEmpty=\'{}\'\nBasicData=\'{"records": [{"type": "A","values": ["192.168.1.10"]}]}\'\nBasicDataWithSubPrice=\'{"records":[{"type": "A","values":["192.168.1.10"]}],"sub_domains_sale": true,"sub_domains_sale_price": 10000}\'\nBasicDataWithMX=\'{"records": [{"type": "A","values": ["192.168.1.10"]},{"type": "MX","values": ["10 mx.bob.alice.deweb."]}]}\'\nBasicDataWithCNAME=\'{"records": [{"type": "CNAME","values": ["test.deweb.com."]}]}\'\n')),(0,i.kt)("p",null,"If we want to start selling the subdomains, we should set ",(0,i.kt)("inlineCode",{parentName:"p"},'"sub_domains_sale": true')," and ",(0,i.kt)("inlineCode",{parentName:"p"},'"sub_domains_sale_price": 10000'),", where ",(0,i.kt)("inlineCode",{parentName:"p"},"sub_domains_sale_price")," is in ",(0,i.kt)("inlineCode",{parentName:"p"},"udws")," denom."),(0,i.kt)("p",null,"First we can mint a TLD ",(0,i.kt)("inlineCode",{parentName:"p"},"deweb"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'# how to:\n# dewebd tx domain register <domainName> --data="$BasicData" --from bob --chain-id deweb-testnet-sirius --gas 2000000 --output json -b block\ndewebd tx domain register deweb --data="$BasicData" --from bob --chain-id deweb-testnet-sirius --gas 2000000 --output json -b block\n')),(0,i.kt)("h2",{id:"extend-domain-ownership-prolongation"},"Extend domain ownership (Prolongation)"),(0,i.kt)("p",null,"Prolongation request is sent via the register command. It is allowed only for the domain owner. Other users will receive the message that\nthe domain is already registered."),(0,i.kt)("p",null,"Let's create a domain ",(0,i.kt)("inlineCode",{parentName:"p"},"test.deweb"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'dewebd tx domain register test.deweb --data="$BasicData" --from bob --chain-id deweb-testnet-sirius --gas 2000000 --output json -b block\n')),(0,i.kt)("p",null,"If Alice will try to register domain in Bob's zone she will receive an error ",(0,i.kt)("inlineCode",{parentName:"p"},"parent domain check error: domain deweb does not belong to this user"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'dewebd tx domain register alice.deweb --data="$BasicData" --from alice --chain-id deweb-testnet-sirius --gas 2000000 --output json -b block\n')),(0,i.kt)("h2",{id:"edit-domain-settings"},"Edit domain settings"),(0,i.kt)("p",null,"Bob can edit domain and allow anyone to buy subdomains of the domain he own. He will receive payments for these domains:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'BasicDataWithSubPrice=\'{"records":[{"type": "A","values":["192.168.1.10"]}],"sub_domains_sale": true,"sub_domains_sale_price": 10000}\'\ndewebd tx domain edit deweb --data="BasicDataWithSubPrice" --from bob --chain-id deweb-testnet-sirius --gas 2000000 --output json -b block\n')),(0,i.kt)("h2",{id:"subdomain-ownership-examples"},"Subdomain ownership examples"),(0,i.kt)("p",null,"Then Alice can register subdomain and pay the fee to Bob:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'BasicData=\'{"records": [{"type": "A","values": ["192.168.1.10"]}]}\'\ndewebd tx domain register newalice.deweb --data="$BasicData" --from alice --chain-id deweb-testnet-sirius --gas 2000000 --output json -b block\n')),(0,i.kt)("p",null,"But Bob also can register subdomain for Alice (her address ",(0,i.kt)("inlineCode",{parentName:"p"},"deweb1x6s67chad4p2rznmclskw7xr3qfppfhjkqs3ee"),"):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'dewebd tx domain register alice.deweb --data="$BasicData" --recipient=deweb1x6s67chad4p2rznmclskw7xr3qfppfhjkqs3ee --from bob --chain-id deweb-testnet-sirius --gas 2000000 --output json -b block\n')),(0,i.kt)("p",null,"Then Alice can register domain ",(0,i.kt)("inlineCode",{parentName:"p"},"www.alice.deweb")," because she is the owner of ",(0,i.kt)("inlineCode",{parentName:"p"},"alice.deweb"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'dewebd tx domain register www.aliced.deweb --data="$BasicData" --from alice --chain-id deweb-testnet-sirius --gas 2000000 --output json -b block\n')),(0,i.kt)("p",null,"Alice can register domain for Bob in her zone and then transfer this Domain to Bob, so he will become an owner of ",(0,i.kt)("inlineCode",{parentName:"p"},"bob.alice.deweb"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'dewebd tx domain register bob.aliced.deweb --data="$BasicData" --from alice --chain-id deweb-testnet-sirius --gas 2000000 --output json -b block\n')),(0,i.kt)("h2",{id:"2-step-transfer"},"2-step transfer"),(0,i.kt)("p",null,"This is used to sell the domain to exact deweb address for exact price."),(0,i.kt)("p",null,"Firstly the domain owner Alice sends the transaction with expected domain receiver and price. Only selected receiver Bob (his address is ",(0,i.kt)("inlineCode",{parentName:"p"},"deweb138sq5w8yxsdzgvs7lse5j3dtr3e2t5z08cw8aj"),") can buy the domain. If no receiver determined, anyone can buy this domain."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"dewebd tx domain transfer bob.aliced.deweb --recipient=deweb138sq5w8yxsdzgvs7lse5j3dtr3e2t5z08cw8aj --price=10000 --from alice --chain-id deweb-2 --gas 2000000 --output json -b block\ndewebd tx domain transfer bob.aliced.deweb --from bob --chain-id deweb-testnet-sirius --gas 2000000 --output json -b block\n")),(0,i.kt)("p",null,"To cancel created transfer:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"dewebd tx domain transfer bob.aliced.deweb --cancel=true --from alice --chain-id deweb-testnet-sirius --gas 2000000 --output json -b block\n")),(0,i.kt)("h2",{id:"module-parameters"},"Module parameters"),(0,i.kt)("p",null,"Parameters that can be changed via Government proposal:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"DomainPrice"),(0,i.kt)("li",{parentName:"ul"},"DomainExpiration"),(0,i.kt)("li",{parentName:"ul"},"DomainOwnerProlongation"),(0,i.kt)("li",{parentName:"ul"},"BlockedTLDs")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="dns_proposal.json"',title:'"dns_proposal.json"'},'{\n  "title": "Increase the lease time for domains",\n  "description": "Set lease time to 60 minutes for domains",\n  "changes": [\n    {\n      "subspace": "nft",\n      "key": "DomainExpiration",\n      "value": "60"\n    }\n  ],\n  "deposit": "10000000udws"\n}\n')),(0,i.kt)("p",null,"Submit proposal:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"dewebd tx gov submit-proposal param-change dns_proposal.json --from alice --chain-id deweb-testnet-sirius --gas 2000000\n")))}c.isMDXComponent=!0}}]);